<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ImpactVault | DeFi for Public Good</title>

    <link rel="icon" href="logo.png" />
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- ===== PRELOADER ===== -->
    <div id="preloader">
      <img src="logo.png" alt="ImpactVault Logo" />
      <p>Loading ImpactVault...</p>
    </div>

    <!-- ===== HEADER ===== -->
    <header id="mainHeader">
      <img src="logo.png" alt="ImpactVault Logo" class="header-logo" />

      <!-- Hamburger Menu for Mobile -->
      <button class="menu-toggle" id="menuToggle">â˜°</button>

      <nav class="navbar" id="navbar">
        <ul class="nav-links">
          <li><a href="#" class="active">Home</a></li>
          <li><a href="vaults.html">Vaults</a></li>
          <li><a href="rewards.html">Rewards</a></li>
          <li><a href="community.html">Community</a></li>
          <li><a href="docs.html">Docs</a></li>
          <li><a href="about.html">About</a></li>
        </ul>
      </nav>

      <div class="wallet-controls">
        <button id="mockToggle" class="btn mock">ğŸ§© Mock Mode: ON</button>
        <button id="connectButton" class="btn connect">
          ğŸ”— Connect Wallet
        </button>
      </div>

      <div id="wallet-info" class="wallet-info">
        <p id="walletAddress">Not Connected</p>
        <p id="networkStatus">ğŸŒ Network: -</p>
      </div>
    </header>

    <!-- ===== MAIN DASHBOARD ===== -->
    <main class="dashboard">
      <section class="intro">
        <h1>ImpactVault</h1>
        <p>
          Turning <span class="highlight">DeFi yield</span> into
          <span class="highlight">Public Good</span> funding.
        </p>
      </section>

      <!-- ===== ACTION CARDS ===== -->
      <div class="action-grid">
        <div class="action-card">
          <h3>ğŸ’° Deposit</h3>
          <input
            id="depositAmount"
            type="number"
            placeholder="Enter amount (mDAI)"
          />
          <button id="depositButton" class="btn">Deposit</button>
        </div>

        <div class="action-card">
          <h3>âš¡ Simulate Yield</h3>
          <input
            id="yieldAmount"
            type="number"
            placeholder="Enter yield (mDAI)"
          />
          <button id="yieldButton" class="btn">Simulate</button>
        </div>

        <div class="action-card">
          <h3>ğŸ’š Harvest & Donate</h3>
          <p>Convert your yield into public good funding</p>
          <button id="harvestButton" class="btn wide">Harvest</button>
        </div>
      </div>

      <!-- ===== GRAPHICAL DASHBOARD ===== -->
      <section class="stats">
        <div class="stat-card">
          <h4>Your Balance</h4>
          <div class="progress-bar">
            <div id="balanceBar" class="progress-fill"></div>
          </div>
          <p><span id="userBalance">0.00</span> mDAI</p>
        </div>

        <div class="stat-card">
          <h4>Total Donated</h4>
          <div class="progress-bar">
            <div id="donationBar" class="progress-fill alt"></div>
          </div>
          <p><span id="totalDonated">0.00</span> mDAI</p>
        </div>
      </section>

      <!-- ===== IMPACT METRICS ===== -->
      <section class="impact-metrics">
        <h2>ğŸŒ± Community Impact</h2>
        <div class="impact-grid">
          <div class="impact-card">
            <h3 id="impactProjects">0</h3>
            <p>Projects Supported</p>
          </div>
          <div class="impact-card">
            <h3 id="impactDonations">0</h3>
            <p>Total Donations (mDAI)</p>
          </div>
          <div class="impact-card">
            <h3 id="impactUsers">0</h3>
            <p>Active Contributors</p>
          </div>
        </div>
      </section>

      <!-- ===== FOOTER ===== -->
      <footer>
        Â© 2025 ImpactVault â€” Built with ğŸ’š for Octant DeFi Hackathon
      </footer>
    </main>

    <!-- ===== STATUS TOAST ===== -->
    <div id="statusToast" class="status-toast" style="opacity: 0">
      Status message
    </div>

    <!-- ===== AI CHATBOT WIDGET ===== -->
    <div id="chatbot-container" class="chatbot-container">
      <div class="chat-header">
        <span>ğŸ’¬ ImpactVault Assistant</span>
        <div>
          <button
            id="aiModeToggle"
            class="toggle-btn"
            style="border-radius: 50px"
          >
            ğŸ¤– AI: OFF
          </button>
        </div>
        <button id="closeChat" class="close-chat">Ã—</button>
      </div>
      <div id="chatBody" class="chat-body">
        <div class="bot-msg">
          Hi there ğŸ‘‹, Iâ€™m ImpactVault AI.<br />
          Ask me anything about deposits, yield, or harvesting!
        </div>
      </div>
      <div class="chat-input">
        <input type="text" id="userInput" placeholder="Type your question..." />
        <button id="sendBtn">â¤</button>
      </div>
    </div>

    <!-- Floating button -->
    <button id="chatToggle" class="chat-toggle">ğŸ’¬</button>

    <!-- ===== SCRIPTS ===== -->
    <script>
      // Preloader fade-out
      window.addEventListener("load", () => {
        const preloader = document.getElementById("preloader");
        preloader.style.opacity = "0";
        setTimeout(() => {
          preloader.style.display = "none";
          document.querySelector("main").style.display = "block";
        }, 900);
      });
    </script>

    <!-- Ethers.js + App Script -->
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script src="./script.js"></script>
  </body>
</html>
